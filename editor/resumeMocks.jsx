export const resumeMocks = {
  Sports: {
    student: {
      name: "Arjun Mehta",
      role: "Student Athlete",
      email: "arjun.mehta@email.com",
      phone: "+91 9876543210",
      location: "Chennai, India",
      summary: "Dedicated student athlete specializing in track and field events with strong discipline, endurance, and competitive performance in inter-college tournaments.",
      skills: ["Sprint Training", "Endurance Conditioning", "Team Collaboration", "Fitness Discipline", "Performance Tracking", "Competitive Strategy"],
      experience: [
        {
          company: "SRM University",
          role: "University Athlete",
          startDate: "2022",
          endDate: "Present",
          description: "Represented university in state-level athletics meets. Won silver medal in 200m sprint. Maintained top 5 campus performance ranking."
        }
      ],
      education: [
        { degree: "BSc Sports Science", institution: "SRM University", year: "2025" }
      ],
      projects: []
    },
    professional: {
      name: "Vikram Singh",
      role: "Professional Athlete",
      email: "vikram.singh@email.com",
      phone: "+91 9988776655",
      location: "Mumbai, India",
      summary: "Professional athlete with 8+ years of competitive experience in national and international track events, specializing in middle-distance running with multiple championship medals.",
      skills: ["Middle Distance Running", "Advanced Training Techniques", "Competition Strategy", "Nutrition Planning", "Performance Analysis", "Mental Conditioning"],
      experience: [
        {
          company: "National Athletics Team",
          role: "Professional Runner",
          startDate: "2018",
          endDate: "Present",
          description: "Competed in 5 national championships winning 3 gold medals in 800m events. Represented India in Asian Games 2022. Achieved personal best of 1:45.2 in 800m."
        }
      ],
      education: [
        { degree: "Diploma in Sports Coaching", institution: "National Sports Academy", year: "2018" }
      ],
      projects: []
    }
  },

  IT: {
    student: {
      name: "Rahul Nair",
      role: "Software Developer",
      email: "rahul.nair@email.com",
      phone: "+91 9123456780",
      location: "Bangalore, India",
      summary: "Computer science student skilled in Python and web development with hands-on experience building academic and personal software projects.",
      skills: ["Python", "JavaScript", "React", "Node.js", "SQL", "Git", "Problem Solving", "API Integration"],
      experience: [
        {
          company: "Personal Projects",
          role: "Student Developer",
          startDate: "2023",
          endDate: "Present",
          description: "Built resume builder web application using React and Node.js. Developed REST APIs and implemented responsive UI design. Created authentication system with JWT."
        }
      ],
      education: [
        { degree: "BTech Computer Science", institution: "Anna University", year: "2026" }
      ],
      projects: [
        { title: "Resume Builder App", description: "Full-stack web application for creating professional resumes", tech: ["React", "Node.js", "MongoDB"] }
      ]
    },
    professional: {
      name: "Priya Sharma",
      role: "Senior Software Engineer",
      email: "priya.sharma@email.com",
      phone: "+91 9876501234",
      location: "Hyderabad, India",
      summary: "Senior software engineer with 6+ years of experience building scalable web applications, specializing in full-stack development with React, Node.js, and cloud technologies.",
      skills: ["React", "Node.js", "TypeScript", "AWS", "Docker", "Kubernetes", "PostgreSQL", "Redis", "GraphQL", "Microservices"],
      experience: [
        {
          company: "Tech Corp",
          role: "Senior Software Engineer",
          startDate: "2020",
          endDate: "Present",
          description: "Led development of microservices architecture serving 2M+ users. Reduced API latency by 40% through optimization. Mentored 5 junior developers."
        }
      ],
      education: [
        { degree: "MTech Computer Science", institution: "IIT Madras", year: "2018" }
      ],
      projects: [
        { title: "E-commerce Platform", description: "Scalable platform handling 10K+ daily transactions", tech: ["React", "Node.js", "AWS", "PostgreSQL"] }
      ]
    }
  },

  Culinary: {
    student: {
      name: "Aditi Kulkarni",
      role: "Culinary Student",
      email: "aditi.kulkarni@email.com",
      phone: "+91 9234567890",
      location: "Pune, India",
      summary: "Passionate culinary arts student with expertise in Indian and Continental cuisines, dedicated to mastering cooking techniques and creative food presentation.",
      skills: ["Indian Cuisine", "Continental Cooking", "Baking", "Food Plating", "Kitchen Safety", "Recipe Development"],
      experience: [
        {
          company: "Culinary Institute Internship",
          role: "Kitchen Intern",
          startDate: "2023",
          endDate: "Present",
          description: "Assisted head chef in preparing 50+ meals daily. Learned advanced plating techniques and menu planning. Participated in college cooking competitions."
        }
      ],
      education: [
        { degree: "Diploma in Culinary Arts", institution: "IHM Pune", year: "2025" }
      ],
      projects: []
    },
    professional: {
      name: "Chef Rohan Desai",
      role: "Executive Chef",
      email: "rohan.desai@email.com",
      phone: "+91 9345678901",
      location: "Goa, India",
      summary: "Award-winning executive chef with 10+ years of experience in fine dining restaurants, specializing in fusion cuisine and innovative menu development.",
      skills: ["Fine Dining", "Fusion Cuisine", "Menu Development", "Kitchen Management", "Team Leadership", "Cost Control", "Food Safety", "Plating Artistry"],
      experience: [
        {
          company: "The Grand Resort",
          role: "Executive Chef",
          startDate: "2019",
          endDate: "Present",
          description: "Managed kitchen team of 15 staff. Developed seasonal menus increasing customer satisfaction by 35%. Won Best Chef Award 2023. Reduced food costs by 20% through efficient inventory management."
        }
      ],
      education: [
        { degree: "Advanced Diploma in Culinary Arts", institution: "Le Cordon Bleu", year: "2014" }
      ],
      projects: []
    }
  },

  Management: {
    student: {
      name: "Sneha Patel",
      role: "Management Trainee",
      email: "sneha.patel@email.com",
      phone: "+91 9456789012",
      location: "Ahmedabad, India",
      summary: "MBA student with strong analytical and leadership skills, focused on operations management and business strategy.",
      skills: ["Strategic Planning", "Data Analysis", "Team Leadership", "Project Management", "Business Communication", "Excel"],
      experience: [
        {
          company: "Campus Business Club",
          role: "President",
          startDate: "2024",
          endDate: "Present",
          description: "Led team of 20 members organizing business events. Managed budget of ₹2L. Coordinated 5 successful workshops with industry professionals."
        }
      ],
      education: [
        { degree: "MBA", institution: "IIM Ahmedabad", year: "2026" }
      ],
      projects: []
    },
    professional: {
      name: "Karan Malhotra",
      role: "Operations Manager",
      email: "karan.malhotra@email.com",
      phone: "+91 9567890123",
      location: "Delhi, India",
      summary: "Results-driven operations manager with 8+ years of experience optimizing business processes, leading cross-functional teams, and delivering measurable efficiency improvements.",
      skills: ["Operations Management", "Process Optimization", "Team Leadership", "KPI Management", "Budget Planning", "Stakeholder Management", "Six Sigma", "Lean Management"],
      experience: [
        {
          company: "Corporate Solutions Ltd",
          role: "Operations Manager",
          startDate: "2018",
          endDate: "Present",
          description: "Managed operations for 100+ employee division. Improved process efficiency by 45%. Led team of 25 staff. Reduced operational costs by ₹50L annually."
        }
      ],
      education: [
        { degree: "MBA Operations", institution: "ISB Hyderabad", year: "2016" }
      ],
      projects: []
    }
  },

  Arts: {
    student: {
      name: "Meera Iyer",
      role: "Graphic Design Student",
      email: "meera.iyer@email.com",
      phone: "+91 9678901234",
      location: "Kochi, India",
      summary: "Creative graphic design student with a passion for visual storytelling and brand identity, skilled in Adobe Creative Suite and digital illustration.",
      skills: ["Adobe Photoshop", "Illustrator", "Figma", "Typography", "Color Theory", "Digital Illustration"],
      experience: [
        {
          company: "Freelance Projects",
          role: "Graphic Designer",
          startDate: "2023",
          endDate: "Present",
          description: "Created brand identities for 5 local businesses. Designed social media graphics for student organizations. Participated in college design exhibitions."
        }
      ],
      education: [
        { degree: "BFA Graphic Design", institution: "NID Ahmedabad", year: "2026" }
      ],
      projects: []
    },
    professional: {
      name: "Arjun Reddy",
      role: "Senior Art Director",
      email: "arjun.reddy@email.com",
      phone: "+91 9789012345",
      location: "Mumbai, India",
      summary: "Award-winning art director with 7+ years of experience creating impactful visual campaigns for leading brands across advertising and digital media.",
      skills: ["Art Direction", "Creative Strategy", "Adobe Creative Suite", "Brand Identity", "Campaign Design", "Team Leadership", "Client Management"],
      experience: [
        {
          company: "Creative Agency",
          role: "Senior Art Director",
          startDate: "2019",
          endDate: "Present",
          description: "Led creative teams of 10+ designers. Delivered 30+ successful brand campaigns. Won Cannes Lion Bronze 2022. Increased client retention by 40%."
        }
      ],
      education: [
        { degree: "Masters in Visual Communication", institution: "NID", year: "2017" }
      ],
      projects: []
    }
  }
};

const autofillTriggers = [
  "fill resume",
  "auto fill",
  "you fill",
  "generate resume",
  "create resume",
  "mock resume",
  "sample resume",
  "fill my resume",
  "generate sample",
  "create sample"
];

export function isAutofillRequest(text) {
  const t = text.toLowerCase();
  return autofillTriggers.some(k => t.includes(k));
}

const DOMAINS = [
  'IT', 'Sports', 'Culinary', 'Arts', 'Education',
  'Music', 'Healthcare', 'Security', 'Teaching', 
  'Academic', 'Management', 'Project Management'
];

const LEVELS = ['student', 'fresher', 'professional'];

export function detectDomainFromText(text) {
  const t = text.toLowerCase();
  if (t.includes('sports') || t.includes('athlete')) return 'Sports';
  if (t.includes('it') || t.includes('developer') || t.includes('software') || t.includes('engineer')) return 'IT';
  if (t.includes('culinary') || t.includes('chef') || t.includes('cook')) return 'Culinary';
  if (t.includes('management') || t.includes('manager')) return 'Management';
  if (t.includes('art') || t.includes('design') || t.includes('graphic')) return 'Arts';
  if (t.includes('teaching') || t.includes('teacher') || t.includes('education')) return 'Teaching';
  if (t.includes('music')) return 'Music';
  if (t.includes('healthcare') || t.includes('nurse') || t.includes('medical')) return 'Healthcare';
  if (t.includes('security')) return 'Security';
  if (t.includes('academic') || t.includes('research')) return 'Academic';
  if (t.includes('project')) return 'Project Management';
  return null;
}

export function detectLevelFromText(text) {
  const t = text.toLowerCase();
  if (t.includes('student') || t.includes('trainee') || t.includes('intern')) return 'student';
  if (t.includes('fresher') || t.includes('entry level')) return 'student';
  return 'professional';
}

export function parseFillCommand(text) {
  const t = text.toLowerCase();
  
  // Detect domain
  const domain = DOMAINS.find(d => t.includes(d.toLowerCase()));
  
  // Detect level
  const level = LEVELS.find(l => t.includes(l)) || 'professional';
  
  // Extract name - patterns: "name arun", "called john", "my name is sarah"
  let name = null;
  const namePatterns = [
    /name\s+([a-z]+)/i,
    /called\s+([a-z]+)/i,
    /my name is\s+([a-z]+)/i,
    /i'm\s+([a-z]+)/i,
    /i am\s+([a-z]+)/i
  ];
  
  for (const pattern of namePatterns) {
    const match = t.match(pattern);
    if (match) {
      name = match[1].charAt(0).toUpperCase() + match[1].slice(1);
      break;
    }
  }
  
  return {
    domain: domain || null,
    level,
    name,
    isFill: t.includes('fill') || t.includes('generate') || t.includes('create'),
    isSample: t.includes('sample') || t.includes('mock') || t.includes('demo')
  };
}

export function buildResumeFromCommand(cmd, fallbackDomain = 'IT') {
  const domain = cmd.domain || fallbackDomain;
  const level = cmd.level || 'professional';
  
  const base = generateResume(domain, level);
  
  // Override name if provided
  if (cmd.name) {
    base.name = cmd.name;
  }
  
  return base;
}

export function generateResume(domain, level = 'professional') {
  const template = resumeMocks[domain] || resumeMocks['IT'];
  return template[level] || template['professional'];
}